1. Spring的事务底层是基于数据库事务和AOP机制的
2. 首先对于使用了@Transactional注解的Bean，Spring会创建一个代理对象作为Bean
3. 当调用代理对象的方法时，会先判断该方法是否加了@Transactional注解
   1. 如果加了，那么则利用事务管理器创建一个数据库连接，并且修改数据库连接的autocommit属性为false，禁止此连接的自动提交，这是实现Spring事务非常重要的一步。然后执行当前方法，方法中会执行sql。执行完当前方法后，如果没有出现异常就直接提交事务。
   2. 如果出现了异常，并且这个异常是需要回滚的就会回滚事务，否则仍然提交事务。
4. Spring事务的隔离级别对应的就是数据库的隔离级别。
5. Spring事务的传播机制是Spring事务自己实现的，也是Spring事务中最复杂的。Spring事务的传播机制是基于数据库连接来做的，一个数据库连接一个事务，如果传播机制配置为需要新开一个事务，那么实际上就是先建立一个数据库连接，在此新数据库连接上